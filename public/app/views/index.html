<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>User CRM</title>

	<!-- FOR ANGULAR ROUTING -->
	<base href="/">

	<!-- CSS  -->
	<!-- load bootstrap from CDN and custom CSS -->
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootswatch/3.3.1/paper/bootstrap.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css">
	<link rel="stylesheet" href="assets/css/style.css">

	<!-- JS -->
	<!-- load angular and angular-route via CDN -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-animate.js"></script>

	<!-- controllers -->
	<script src="app/controllers/mainCtrl.js"></script>
	<script src="app/controllers/userCtrl.js"></script>
	<script src="app/controllers/itemCtrl.js"></script>

	<!-- services -->
	<script src="app/services/authService.js"></script>
	<script src="app/services/userService.js"></script>
	<script src="app/services/itemService.js"></script>

	<!-- main Angular app files -->
	<script src="app/app.routes.js"></script>
	<script src="app/app.js"></script>
</head>
<body ng-app="EmAndLilApp" ng-controller="mainController as main">

<!-- NAVBAR -->
<header>
	<div class="navbar navbar-inverse">
	<div class="container">
		<div class="navbar-header">
			<a href="/" class="navbar-brand"> Em and Lil List</a>
		</div>
		<ul class="nav navbar-nav navbar-right">
			<li ng-if="!main.loggedIn"><a href="/signup">Signup</a></li>
			<li ng-if="!main.loggedIn"><a href="/login">Login</a></li>
			<li ng-if="main.loggedIn"><a href="/items">My Items</a></li>
			<li ng-if="main.loggedIn"><a href="/settings">My Settings</a></li>
			<li ng-if="main.loggedIn"><a href="#" ng-click="main.doLogout()">Logout</a></li>
		</ul>
      	
      	<form class="navbar-form navbar-right" role="search">
        	<div class="form-group">
          		<input type="text" class="form-control" ng-model="filterSearch" placeholder="Search Items">
        	</div>
        	<button type="submit" class="btn btn-default">Submit</button>
      	</form>

	</div>
	</div>
</header>

<main class="container">
	<!-- ANGULAR VIEWS -->
	<div ng-view></div>

<div>
	<div class="card-group" ng-show="item.items">
		<div>
		Sort By:
		<select ng-model="itemOrder">Sort
			<option value="price">Price Low - High</option>
			<option value="-price">Price High - Low</option>
			<option value="name">Name A-Z</option>
			<option value="-name">Name Z-A</option>
		</select>
		</div>
	  <div class="card-deck row">
	    <div class="card col-md-4" ng-repeat="product in item.items | orderBy:product | filter: filterSearch">
	      <img class="card-img-top" data-src="..." alt="Card image cap">{{product.image}}
	      <div class="card-block">
	        <h5 class="card-title">Name: {{ product.name }}</h5>
	        <p class="card-text">by: {{product._creator.username}}</p>
	        <p class="card-text">${{product.price}}</p>
	        <p class="card-text">{{product.description}}</p>
	        <p class="card-text"><small class="text-muted">{{product.date}}</small></p>
		    <a href="#" class="btn btn-primary">Add to Cart</a>
		    <br><a ng-if="main.loggedIn" ng-href="/items/{{ product._id }}" class="contactButton">Contact Seller</a>

	      </div>
	    </div>
	  </div>
	</div>
</div>
</main>


</body>
</html>
